---
layout: post
title: Fight with Nvidia under Linux
date: '2012-07-12T11:59:00.000+02:00'
author: Ondrej Platek
tags:
- Techtips
modified_time: '2012-07-23T17:16:05.253+02:00'
blogger_id: tag:blogger.com,1999:blog-1883852367990943689.post-3068453929360335984
blogger_orig_url: http://oplatek.blogspot.com/2012/07/fight-with-nvidia-under-linux.html
---

OpenGL tips<br/>posted Sep 6, 2011 4:15 PM by ondrej platek<br/><br/>Nehe formats<br/>lesson[0-9[0-9]_glut.zip is windows format<br/>lesson[0-9[0-9]_linux.tar.gz is linux format works for me at aao and in mfflab<br/>lesson[0-9[0-9]_linux.tar.gz is linux_GLX format works for me at aao and in mfflab BUT THE LESSON02 BLOCKS COVERS MY WHOLE DISPLAY AND CAPTURES ALL INPUT-&gt; IT BLOCKS THE COMPUTER<br/><br/><br/>(Edit post)<br/>Back to ssh -X<br/>posted Sep 6, 2011 12:58 AM by ondrej platek   [ updated Sep 6, 2011 2:31 PM ]<br/><br/>In http://www.csse.monash.edu.au/~jonmc/CSE3313/Assessment/opengl.html I have read, that ssh with set up X Forwarding<br/>and mesa library http://www.mesa3d.org/ is the solution of my problem.<br/><br/>During the reading I realized, that I need the same openGL driver on both sites.<br/>I knew that I have the same one form glxinfo command.<br/>Suddenly, it hit me. The examples are compiled staticly with other openGL library!<br/><br/>I discover how to set up LD_LIBRARY_PATH in order let the linux search for shared libraries<br/>in directories specified in $LD_LIBRARY_PATH.<br/><br/>(Edit post)<br/>Sending no openGL commands just pictures with VNC?<br/>posted Aug 29, 2011 12:04 AM by ondrej platek   [ updated Sep 6, 2011 12:57 AM ]<br/><br/>Does it work in mff lab? Yes it works.<br/>The procedure I followed is:<br/><br/>VNC CAN NOT RENDER OPENGL<br/>1)<br/><br/># service vncserver start // I have skipped this step, because at mfflab this service was currently running<br/>vncpasswd // It is needed (I suppose) only for the first time<br/>vncserver // and I started vncserver<br/><br/>2)<br/>I used /sbin/ifconfig to find out public IP address<br/><br/>3) I ran java TightVNC viewer with port mentioned at ~/.vnc/u-pl??\:1.log a IP address from step 2<br/><br/>4) Then I tested ./simpleGL and it returns me an error <br/><br/>Xlib:  extension "NV-GLX" missing on display ":1".<br/>Xlib:  extension "NV-GLX" missing on display ":1".<br/>ERROR: Support for necessary OpenGL extensions missing.Error: API mismatch: the NVIDIA kernel module has version 270.41.06,<br/>but this NVIDIA driver component has version 270.41.19.  Please make<br/>sure that the kernel module and all NVIDIA driver components<br/>have the same version.<br/><br/><br/>So I have to solve the error<br/><br/>(Edit post)<br/>OpenGL remotely rendering over ssh<br/>posted Aug 27, 2011 11:57 PM by ondrej platek   [ updated Sep 14, 2011 4:34 PM ]<br/><br/>I have discovered that OpenGL is rendered on the client site when I am connected over ssh to computer where I run CUDA and OpenGL program on computer with NVIDIA graphics card.<br/>Because my client notebook has no NVIDIA card I got an error (running ~/cuda_sdk/bin/../simpleGL) .<br/>Xlib:  extension "NV-GLX" missing on display "u-pl2:11.0".<br/>Xlib:  extension "NV-GLX" missing on display "u-pl2:11.0".<br/>ERROR: Support for necessary OpenGL extensions missing.<br/><br/><br/>I have hopefully found a solution in this tutorial:<br/>http://timelordz.com/wiki/Nvidia_CUDA#VirtualGL<br/><br/>However I need to run virtualGL on the server side with superuser permissions (I do now have them)<br/><br/>(Edit post)<br/>OpenGL is working in mfflab<br/>posted Aug 27, 2011 11:24 PM by ondrej platek   [ updated Aug 27, 2011 11:34 PM ]<br/><br/>I tried to compile sources from tutorial http://www.videotutorialsrock.com/opengl_tutorial/basics/home.php<br/><br/>I have to add new library to Makefile:<br/><br/>CC = g++<br/>CFLAGS = -Wall<br/>PROG = cube<br/><br/>SRCS = main.cpp imageloader.cpp<br/><br/>ifeq ($(shell uname),Darwin)<br/>    LIBS = -framework OpenGL -framework GLUT<br/>else<br/>#I have added -lGLU so "LIBS = -lglut -lGLU"<br/>    LIBS = -lglut -lGLU<br/>endif<br/><br/>all: $(PROG)<br/><br/>$(PROG):    $(SRCS)<br/>    $(CC) $(CFLAGS) -o $(PROG) $(SRCS) $(LIBS)<br/><br/>clean:<br/>    rm -f $(PROG)<br/><br/><br/><br/>(Edit post)<br/>Trying out CUDA at Rotunda lab<br/>posted Aug 26, 2011 3:57 PM by ondrej platek   [ updated Aug 26, 2011 4:08 PM ]<br/><br/>I tried compile and run CUDA SDK examples, which were installed on linux machine (u-pl12) in Rotunda lab. Nvidia driver is installed and it can be accessed over ssh,<br/>which is neccessary for me, because I have no Nvidia graphic card.<br/><br/><br/>Most of examples ran OK, but the graphical ones complained about lack of OpenGL<br/>Xlib:  extension "NV-GLX" missing on display "u-pl2:10.0".<br/>ERROR: Support for necessary OpenGL extensions missing.<br/><br/><br/>Tech specs at u-pl12 after running ~/BIG/cuda_sdk/C/bin/linux/release/deviceQuery<br/> (I compile it using makefile at ~/BIG/cuda_sdk/C and alterning cuda path to /opt/cuda in ~/BIG/cuda_sdk/C/common/Makefile)<br/><br/>CUDA Device Query (Runtime API) version (CUDART static linking)<br/><br/>There is 1 device supporting CUDA<br/><br/>Device 0: "GeForce 210"<br/>  CUDA Driver Version:                           4.0<br/>  CUDA Runtime Version:                          3.20<br/>  CUDA Capability Major/Minor version number:    1.2<br/>  Total amount of global memory:                 536150016 bytes<br/>  Multiprocessors x Cores/MP = Cores:            2 (MP) x 8 (Cores/MP) = 16 (Cores)<br/>  Total amount of constant memory:               65536 bytes<br/>  Total amount of shared memory per block:       16384 bytes<br/>  Total number of registers available per block: 16384<br/>  Warp size:                                     32<br/>  Maximum number of threads per block:           512<br/>  Maximum sizes of each dimension of a block:    512 x 512 x 64<br/>  Maximum sizes of each dimension of a grid:     65535 x 65535 x 1<br/>  Maximum memory pitch:                          2147483647 bytes<br/>  Texture alignment:                             256 bytes<br/>  Clock rate:                                    1.40 GHz<br/>  Concurrent copy and execution:                 Yes<br/>  Run time limit on kernels:                     Yes<br/>  Integrated:                                    No<br/>  Support host page-locked memory mapping:       Yes<br/>  Compute mode:                                  Default (multiple host threads can use this device simultaneously)<br/>  Concurrent kernel execution:                   No<br/>  Device has ECC support enabled:                No<br/>  Device is using TCC driver mode:               No<br/><br/>deviceQuery, CUDA Driver = CUDART, CUDA Driver Version = 4.0, CUDA Runtime Version = 3.20, NumDevs = 1, Device = GeForce 210<br/><br/><br/>PASSED<br/><br/>Press  to Quit...